---
title: Complete an incoming payment
---

import { Disclosure, CodeBlock, LinkOut } from '@interledger/docs-design-system'
import { Tabs, TabItem } from '@astrojs/starlight/components'
import ChunkedSnippet from '/src/components/ChunkedSnippet.astro'
import Begin from '/src/partials/before-you-begin.mdx'
import Ts from '/src/partials/ts-prerequisites.mdx'
import Js from '/src/partials/js-prerequisites.mdx'

An authorized client can complete an unexpired incoming payment to indicate it will not send any additional payments to the wallet address.

These code snippets pass the wallet address and incoming payment URL to the resource server and mark the payment as completed.

## Before you begin

<Begin />

## Mark an incoming payment as complete

<Tabs>
<TabItem label='TypeScript'>
<Ts />

#### Get started

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/incoming-payment/incoming-payment-complete.ts'
  chunk='1'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/incoming-payment/incoming-payment-complete.ts'
  chunk='2'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/incoming-payment/incoming-payment-complete.ts'
  chunk='3'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/incoming-payment/incoming-payment-complete.ts'
  chunk='4'
/>

Run `tsx path/to/directory/index.ts`.

{/* prettier-ignore */}
<p>
  <LinkOut href='https://github.com/interledger/open-payments-snippets/blob/main/incoming-payment/incoming-payment-complete.ts'>View full source</LinkOut>
</p>

</TabItem>
<TabItem label='JavaScript'>
<Js />

#### Get started

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/incoming-payment/incoming-payment-complete.ts'
  chunk='1'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/incoming-payment/incoming-payment-complete.ts'
  chunk='2'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/incoming-payment/incoming-payment-complete.ts'
  chunk='3'
/>

<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-snippets/main/incoming-payment/incoming-payment-complete.ts'
  chunk='4'
/>

Run `node path/to/directory/index.js`.

{/* prettier-ignore */}
<p>
  <LinkOut href='https://github.com/interledger/open-payments-snippets/blob/main/incoming-payment/incoming-payment-complete.js'>View full source</LinkOut>
</p>

</TabItem>
</Tabs>

## References

- [API specification](/apis/resource-server/operations/complete-incoming-payment)
