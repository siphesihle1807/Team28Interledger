---
import prettier from 'prettier';
import { Code } from 'astro:components';
const {source} = Astro.props;

const getApiData = async () => {
  const data = await fetch(source).then((response) => response.text());
  return data;
};
const code = await getApiData();

const output = await prettier.format(code, {
  parser: 'typescript',
  tabWidth: 2,
});
---

<Code code={output} lang="ts" theme="css-variables" />
